<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="text-primary fw-bold">
      <i class="bi bi-pencil-square me-2"></i>Leave Requests
    </h3>
  </div>

  <div class="table-responsive shadow-sm rounded-4 overflow-hidden border border-light">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-primary text-center">
        <tr>
          <th>#</th>
          <th>Employee</th>
          <th>Reason</th>
          <th>From</th>
          <th>To</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody class="text-center">
        <tr *ngFor="let leave of leaveRequests; let i = index">
          <td class="fw-semibold">{{ i + 1 }}</td>
          <td>{{ leave.employeeName }}</td>
          <td class="text-muted">{{ leave.reason }}</td>
          <td>{{ leave.fromDate | date: 'MMM d, y' }}</td>
          <td>{{ leave.toDate | date: 'MMM d, y' }}</td>
          <td>
            <span class="badge rounded-pill px-3 py-2"
              [ngClass]="{
                'bg-warning text-dark': leave.status === 'Pending',
                'bg-success': leave.status === 'Approved',
                'bg-danger': leave.status === 'Rejected'
              }">
              {{ leave.status }}
            </span>
          </td>
          <td>
            <div class="d-flex justify-content-center gap-2">
              <button class="btn btn-outline-success btn-sm"
                      *ngIf="leave.status === 'Pending'" 
                      (click)="handleLeaveAction(leave.id, 'Approved')">
                <i class="fas fa-check me-1"></i>Approve
              </button>
              <button class="btn btn-outline-danger btn-sm" 
                      *ngIf="leave.status === 'Pending'" 
                      (click)="handleLeaveAction(leave.id, 'Rejected')">
                <i class="fas fa-times me-1"></i>Reject
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Toast Notification -->
<div *ngIf="notification" class="toast-container position-fixed bottom-0 end-0 p-3">
  <div class="toast show bg-dark text-white border-0 rounded-3 shadow-sm" role="alert">
    <div class="toast-body d-flex align-items-center gap-2">
      <i class="bi bi-info-circle-fill"></i>
      {{ notification }}
    </div>
  </div>
</div>
